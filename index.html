<html>
<head>
 <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
 <script src="https://code.jquery.com/jquery-2.1.4.min.js"></script>
 <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.6/d3.min.js" charset="utf-8"></script>
 <script src="https://cdn.socket.io/socket.io-1.3.5.js"></script>
 <script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
 <script src="scripts/geometry.js"></script>
 <script src="scripts/chat.js"></script>
 <script src="scripts/board.js"></script>
</head>
<body>

 <!-- Modal -->
  <div class="modal fade" id="myModal" role="dialog">
    <div class="modal-dialog">
    
      <!-- Modal content-->
      <div class="modal-content">
        <div class="modal-header">
          <h4 class="modal-title">Welcome to OSIChat!</h4>
        </div>
        <div class="modal-body">
          <p>Tell me your name:</p>
		  <input type="text" id="myName" value="Lurker"/>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-default" id="closeName">OK</button>
        </div>
      </div>
      
    </div>
  </div>
  
<table>
<tr>
<td>
	<div id="chatspace" style="width: 400; height: 600; overflow-y: scroll">
		
	</div>

	<div>
	<input id="chatinput" type="text" style="width: 400;"/>
	</div>
</td>
<td>
<div id="whiteboard">
</div>
<button class="btn" id="penTool">Pen</button>
<button class="btn" id="eraserTool">Eraser</button>
<button class="btn" id="deleteAction">Delete</button>
<button class="btn" id="textTool">Text</button>
<button class="btn" id="selectTool">Select</button>

</td>
<td>
	<table width="20">
		<tr>
			<td id="red" height="20" style="background: red; cursor: pointer"> </td>
		<tr>
		<tr>
			<td id="blue" height="20" style="background: blue; cursor: pointer"> </td>
		<tr>
		<tr>
			<td id="green" height="20" style="background: green; cursor: pointer"> </td>
		<tr>
		<tr>
			<td id="black" height="20" style="background: black; cursor: pointer"> </td>
		<tr>
		<tr>
			<td id="yellow"  height="20" style="background: yellow; cursor: pointer"> </td>
		<tr>
	</table>
</td>
</tr>
</table>



<script>
</script>

<script>
var myName;
var socket = io.connect(window.location.href);
var chat = new chatterbox(socket);
var board = new whiteboard(d3, socket);

$(window).load(function(){
	$('#myModal').modal('show');
	$('#closeName').click(function() {
		myName = $('#myName').val();
		$('#myModal').modal('hide');
	});
});


board.selectTool("pen");
board.selectColor("black");

$("#red").click(function(){
	board.selectColor("red");
});

$("#green").click(function(){
	board.selectColor("green");
});

$("#blue").click(function(){
	board.selectColor("blue");
});

$("#black").click(function(){
	board.selectColor("black");
});

$("#yellow").click(function(){
	board.selectColor("yellow");
});

$("#penTool").click(function(){
	board.selectTool("pen");
	board.deselectAll();
});

$("#eraserTool").click(function(){
	board.selectTool("eraser");
	board.deselectAll();
});

$("#textTool").click(function(){
	board.selectTool("text");
	board.deselectAll();
});

$("#selectTool").click(function(){
	board.selectTool("select");
	board.deselectAll();
});

$("#deleteAction").click(function(){
	board.removeSelected();
});

</script>
</body>
</html>
